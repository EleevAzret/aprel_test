import y from"./CVbqajSK.js";import{d as h,j as k,t as s,v as c,x as i,y as n,L as f,M,N as v,O as d,A as g,B,P as _,Q as x,o as C,G as I}from"./CzGANIvT.js";import{u as L}from"./DC9dbPnn.js";import{u as N}from"./Dy_MPUcr.js";import{_ as b}from"./f6kxIEHf.js";/* empty css        */const w={class:"detail-movie-container"},D=["src"],S={class:"detail-movie-info-block"},V={class:"detail-movie-title"},$={class:"detail-movie-subtitle"},j={key:0,class:"detail-movie-info-item"},A={class:"detail-movie-info-item detail-movie-info-item__secondary"},T={class:"d-flex align-center ga-2"},E=h({__name:"DetailMovieCard",props:{movie:{}},setup(u){const e=u,l=k(()=>{var o,m,a,t,r,p;return[{name:"Оценки:",value:((o=e.movie.rating)==null?void 0:o.imdb)||((m=e.movie.rating)==null?void 0:m.kp),icon:"star"},{name:"Год:",value:(a=e.movie)==null?void 0:a.year},{name:"Продолжительность:",value:(t=e.movie)!=null&&t.movieLength?`${(r=e.movie)==null?void 0:r.movieLength} мин.`:void 0},{name:"Жанры:",value:(p=e.movie)!=null&&p.genres?e.movie.genres.join(", "):void 0}]});return(o,m)=>{const a=b;return s(),c("div",w,[i("div",null,[i("img",{class:"detail-movie-img",src:o.movie.poster},null,8,D)]),i("div",S,[i("h1",V,n(o.movie.name),1),i("h2",$,n(o.movie.description),1),(s(!0),c(f,null,M(v(l),(t,r)=>(s(),c(f,{key:r},[t.value?(s(),c("div",j,[i("span",A,n(t.name),1),i("div",T,[t.icon?(s(),d(a,{key:0},{default:g(()=>[B(n(t.icon),1)]),_:2},1024)):_("",!0),i("span",null,n(t.value),1)])])):_("",!0)],64))),128))])])}}}),q=h({__name:"[id]",setup(u){const e=L(),l=x();return C(async()=>{var o;(o=e.topMovies)!=null&&o.items||await N("movies",()=>e.getTopMovies().then(()=>!0))}),I(()=>l.params.id,o=>{typeof o=="string"&&e.setMovieId(o)},{immediate:!0}),(o,m)=>{const a=y;return s(),d(a,null,{default:g(()=>[v(e).getMovieById?(s(),d(E,{key:0,movie:v(e).getMovieById},null,8,["movie"])):_("",!0)]),_:1})}}});export{q as default};
