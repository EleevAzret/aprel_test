import{_ as L}from"./CB_kKJuN.js";import M from"./DLq8ebN4.js";import{u as B}from"./C5Su7O14.js";import{u as P}from"./BM4TQekg.js";import{_ as $}from"./CSobAmu-.js";import{d as l,u as g,t as o,v as a,x as t,y as c,z as d,A as p,B as f,N as r,L as h,M as k,O as _,R as V,P as y}from"./07VmgM2Z.js";/* empty css        */const b=["src"],w={class:"movie-card-title"},N={class:"movie-card-subtitle"},x=t("span",{class:"px-2"},"|",-1),z=l({__name:"MovieCard",props:{movie:{}},setup(v){const{push:i}=g();return(e,s)=>{var m;const n=$;return o(),a("div",{class:"movie-card",onClick:s[0]||(s[0]=u=>r(i)(`/${e.movie.id}`))},[t("img",{class:"movie-card-img",src:e.movie.poster},null,8,b),t("div",w,c(e.movie.name),1),t("div",N,[d(n,{class:"mr-1",fill:"",size:"16"},{default:p(()=>[f("star")]),_:1}),t("span",null,c((m=e.movie.rating)==null?void 0:m.imdb),1),x,t("span",null,c(e.movie.year),1)])])}}}),A={class:"movie-card-container"},S=l({__name:"MovieCards",props:{movies:{}},setup(v){return(i,e)=>(o(),a("div",A,[(o(!0),a(h,null,k(i.movies,(s,n)=>(o(),_(z,{key:n,movie:s},null,8,["movie"]))),128))]))}}),W=["src"],D={class:"movies-list-item-content"},R={class:"movies-list-item-title"},T={class:"movies-list-item-subtitle"},j=t("span",{class:"px-2"},"|",-1),E=l({__name:"MoviesListItem",props:{movie:{}},setup(v){const{push:i}=g();return(e,s)=>{var m;const n=$;return o(),a("div",{class:"movies-list-item",onClick:s[0]||(s[0]=u=>r(i)(`/${e.movie.id}`))},[t("img",{class:"movies-list-item-avatar",src:e.movie.poster},null,8,W),t("div",D,[t("div",R,c(e.movie.name),1),t("div",T,[d(n,{class:"mr-1",fill:"",size:"16"},{default:p(()=>[f("star")]),_:1}),t("span",null,c((m=e.movie.rating)==null?void 0:m.imdb),1),j,t("span",null,c(e.movie.year),1)])])])}}}),F={class:"movies-list-container"},I=l({__name:"MoviesList",props:{movies:{}},setup(v){return(i,e)=>(o(),a("div",F,[(o(!0),a(h,null,k(i.movies,(s,n)=>(o(),_(E,{key:n,movie:s},null,8,["movie"]))),128))]))}}),O={key:1,class:"d-flex justify-center py-4"},X=l({__name:"index",props:{listView:{type:Boolean}},async setup(v){let i,e;const s=B();return[i,e]=V(()=>P("movies",()=>s.getTopMovies().then(()=>!0))),await i,e(),(n,m)=>{const u=L,C=M;return o(),_(C,null,{default:p(()=>[r(s).moviesListWithPagination?(o(),a(h,{key:0},[n.listView?(o(),_(I,{key:0,movies:r(s).moviesListWithPagination},null,8,["movies"])):(o(),_(S,{key:1,movies:r(s).moviesListWithPagination},null,8,["movies"]))],64)):y("",!0),r(s).canPaginate?(o(),a("div",O,[d(u,{class:"px-6 py-2",onClick:r(s).incrementPage},{default:p(()=>[f("Загрузить еще")]),_:1},8,["onClick"])])):y("",!0)]),_:1})}}});export{X as default};
